<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta charset="utf-8" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="no"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Third Coast International Audio Festival"/>
    <link rel="shortcut icon" href="/images/favicon.ico"/>

    <link rel="stylesheet" type="text/css" href="/css/tciaf.css" />
    
    <title>[$title]</title>
    
    <script type="text/javascript">
      // <![CDATA[
      window.bloc = (function(d,w,c,q,t) {
        return { 
          tag: function (src, async) {var s = d.createElement('script');s.type = 'text/javascript';s.src = src;s.async = async;return s;},
          embed: function() {for (var i=0; i < arguments.length; i++) {var s = this.tag(arguments[i], false);s.onload = this.load; q.push(s);} return this;},
          track: function (src) { for (var i=0; i < arguments.length; i++) {t.push(this.tag(arguments[i], true));} return this;},
          load: function(){ if (q.length > 0) {d.body.appendChild(q.shift()); } else { w.bloc.execute();}},
          execute: function() {c.forEach(function (f) { f.call();}); c=[]; while(t.length > 0) d.body.appendChild(t.shift());},
          prepare: function(f) {if (typeof f === 'function') c.unshift(f);}
      };}(document, window, [], [], []));
      
      bloc.embed('/js/bloc.js');
      // ]]>
    </script>
  </head>
  <body class="unloaded">
    <header>
      <h1>Third Coast International Audio Festival</h1>
      <!-- replace helper -->
    </header>
    
    <!-- replace content nextSibling -->
    <section>
      <div id="test">
        <p class="pretty">Welcome to the Third Coast International Audio Festival Homepage</p>
      </div>

      <script type="text/javascript">
      // <![CDATA[
        bloc.prepare(function () {
          var myRequest = new XMLHttpRequest();
              myRequest.open("GET", "/");
              myRequest.setRequestHeader("X-Requested-With", "XMLHttpRequest");
              myRequest.send();
              
              myRequest.onreadystatechange = function () {
                if (myRequest.readyState === 4) {
                  if (myRequest.status === 200) {
                    console.log(myRequest.responseXML);          
                  } else {
                    console.log('boop');
                  }
                }
              };
              
          var s = new SVG(document.getElementById('test'), {height:500,width:500,viewbox:'100 100 0 0'});
          s.createElement('path', {
            d: 'M50,50A25,25,0,1,1,100,100',
            //rx ry x-axis-rotation large-arc-flag sweep-flag x y)+
            stroke:'#000',
            'stroke-width':10,
            fill: 'none'
          });
        });
      // ]]>
      </script>
      <style type="text/css">.pretty {font-size:4em;}</style>
    </section>
    
    <!-- insert views/footer.html -->
    
    <script type="text/javascript">
      window.bloc.load();
    </script>
  </body>
</html>
