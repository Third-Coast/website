<article class="feature">
  <style type="text/css" media="screen">
    /* <![CDATA[ */
    article.feature {
      width:100%;
    }
    div.producer img {
      float:left;
      width:10%;
      display:block;
    }
    /* ]]> */
  </style>
  
  <a class="award" href="[/explore/detail/$item:award:competition:@id]">[$item:award:title - $item:award:competition:title]</a>
  
  
  <h1 data-id="[$item:@id]">[$item:title]</h1>
  
  <!-- iterate item:media:audio -->
  <audio src="[http://s3.amazonaws.com/$src]" title="[$caption]" onloadedmetadata="Player.queue(this, loadPlayer)" controls="controls" preload="metadata">Audio</audio>

  <section>[$item:description]</section>
  <section>
    <!-- iterate item:media:image -->
    <img src="[http://s3.amazonaws.com/$url]" alt="[$caption]"/>
  </section>

  <hr />
  
  
  
  <h2>Produced By:</h2>
  <!-- iterate item:producers -->
  <div class="producer container">
    <img src="[http://s3.amazonaws.com/$producer:photo:url]" />
    <h2><a href="[/explore/detail/$producer:@id]">[$producer:@title]</a></h2>
    <section>[$producer:bio]</section>
  </div>
  
  
  <h2>Next Up</h2>
  <!-- insert views/lists/recommendation.html -->
  
  
  <section style="margin-top:5em;border-top:1px solid #aaa;padding:1em 0;">[$item:extra]</section>
  
  
  <!-- iterate item:collections -->
  <a href="[/explore/detail/$collection:@id]">[$collection:title]</a>

  <script type="text/javascript">
    // <![CDATA[
    function loadPlayer(audio) {
      this.setDisplay('title', 'Play <em>' + audio.title + '</em>');
    }
    
    bloc.prepare(function () {
      document.querySelector('ol.recommended').addEventListener('click', function (evt) {
        if (evt.target.nodeName === "A") {
          evt.preventDefault();
          var request = new XMLHttpRequest();
          request.addEventListener('load', function (evt) {
            evt.target.responseXML.querySelectorAll('audio').forEach(function (audio) {
              document.body.appendChild(audio);
            });
          });
          request.open('GET', evt.target.href + ".xml");
          request.send();

        }
      });
    });
    // ]]>
  </script>
</article>