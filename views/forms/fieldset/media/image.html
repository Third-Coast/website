<fieldset class="responsive media">
  <details class="explainer">
    <summary class="h5 rag-left">Using Media</summary>
    <p>After choosing the media from your computer, files will be uploaded to the server where they receive additional processing. Audio will be transcoded to m4a format to allow scrubbing and reduced filesize, images will be compressed and resized to an appropriate resolution.</p>
    <p>Images can be sorted by dragging and dropping, but be advised, <em>the order of images can play a key role in the construction of the page, so consult video documentation if you are unsure of the consequences.</em> If an image is dragged into a text box, it will be converted to markdown format and can be placed inline, though formatting may not look appropriate styles have not been created for all circumstances.</p>
    <p>Spend time writing captionsâ€”not only is this good for search engines and ranking, it's important for accessibility as well.</p>
  </details>
  <legend class="caps-lock">Media</legend>
  <dl class="images dnd container">
    <dt>Images</dt>
    <!-- iterate item:media:image -->
    <!-- insert views/forms/partials/image.html -->
  </dl>
  <div class="search">
    <button class="media upload">+ Add Images</button>
    <noscript id="image-upload" class="Upload" data-url="/manage/upload.xml" data-accept="image/jpeg, image/png, image/jpg, image/svg+xml, image/gif">Javascript Required For upload</noscript>
    <hr/>
    <input id="image-FILTER" data-path="search/media" data-topic="image" data-area="explore/resource" type="text" name="search" placeholder="find existing image" class="text" autocomplete="off" />
    <noscript id="image-finder" class="Search" data-id="image-FILTER">Search Requires Javascript</noscript>
  </div>
  <script type="text/javascript" async="true">
    // <![CDATA[
    bloc.define('image-finder', function (instance) {
      if (! instance.input) {
        console.error('Related to above.');
        return;
      }
      instance.subscribers.select.push(function (dataset) {
        var input = instance.input;
        var ajax  = new XMLHttpRequest();
        var url = '/' + dataset.area + '/' + dataset.id + '.xml';
        ajax.open('GET', url);
        ajax.addEventListener('load', function (evt) {
          var elem  = evt.target.responseXML.documentElement.querySelector('dd.media.image');
          document.querySelector('dl.images').appendChild(elem);
          input.value = '';
        }, false);
        ajax.send();
        instance.input.value = '';
      });
    });
    bloc.define('image-upload', function (instance) {
      Upload.config.init(instance, ['image']);
    });

    // ]]>
  </script>
</fieldset>
